<ion-header [translucent]="true">
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-button>
        <ion-back-button defaultHref="/fichas"></ion-back-button>
      </ion-button>
    </ion-buttons>
    <ion-title>Buscar Fichas Medicas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  
  <div class="busqueda-hero">
    <ion-card-title>
          Busca las fichas medicas que necesites
    </ion-card-title>
    <p>Selecciona un paciente para ver su ficha médica completa</p>
  </div>

  <!-- Componente de búsqueda -->
  <app-busqueda-pacientes
    [cargando]="cargando"
    [error]="error"
    [totalPacientes]="pacientes.length"
    [pacientesFiltrados]="pacientesFiltrados.length"
    [terminoBusqueda]="terminoBusqueda"
    (busquedaCambiada)="onBusquedaCambiada($event)"
    (limpiarBusqueda)="onLimpiarBusqueda()"
    (recargar)="onRecargar()">
  </app-busqueda-pacientes>

  <!-- Componente de lista con grupo familiar -->
  <app-lista-pacientes-familia
    [pacientes]="pacientesFiltrados"
    [mostrarBotonAgregar]="true"
    [titulo]="'Mi Grupo Familiar'"
    (pacienteSeleccionado)="onPacienteSeleccionado($event)"
    (agregarPaciente)="onAgregarPaciente()">
  </app-lista-pacientes-familia>

</ion-content>